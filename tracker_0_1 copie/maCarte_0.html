<!DOCTYPE html>
<html>
<head>
	
	<title>Start - Leaflet</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

 <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"> 
 
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
    
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
<!--


  date picker
-->

  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script>
  $( function() {
    $( "#datepicker" ).datepicker();
  } );
  </script>


	
</head>
<body>

<!-- Links (sit on top) -->
<div class="w3-container">
<!--	<div class="w3-top"> -->
	  <div class="w3-row w3-padding w3-black">
		<div class="w3-col s3">
		  <a href="#" class="w3-button w3-block w3-black">HOME</a>
		</div>
		<div class="w3-col s3">
		  <a href=javascript:void(0); onclick=maFonction() class="w3-button w3-block w3-black">ABOUT</a>
		</div>
		<div class="w3-col s3">
		  <a href=javascript:void(0); onclick=maFonction3() class="w3-button w3-block w3-black">MENU</a>
		</div>
		<div class="w3-col s3">
		  <a href=javascript:void(0); onclick=maFonction4() class="w3-button w3-block w3-black">WHERE</a>
		</div>
	  </div>
<!--	</div> -->


	<div class="w3-display-container" style="height: 650px;">
	  <div class="w3-display-top-left">
		 <div class="w3-dropdown-hover">
			  <button class="w3-button">VÃ©hicule</button>
				  <div class="w3-dropdown-content w3-bar-block w3-border">
					<a href="#" class="w3-bar-item w3-button">Link 1</a>
					<a href="#" class="w3-bar-item w3-button">Link 2</a>
					<a href="#" class="w3-bar-item w3-button">Link 3</a>
				</div>
		</div> 
		
		<p>Date: <input type="text" id="datepicker"></p>
		<p>statistiques:</p>
		<p>ce jour lÃ  de hh:mm Ã  hh:mm   pour faire xxx km</p>
		<p>ce jour lÃ   xxx vÃ©hicules sont sortis</p>
		<p>semaine: xxx km  jj jours  hh heures</p>
		<p>mois:  xxx km  jj jours  hh heures</p>
		<p>annÃ©e:      xxx km  jj jours hh heures</p>
	   </div>
		
		
		<div class="w3-display-middle">

			<div id="mapid" style="width: 800px; height: 600px;"></div>
		</div>

		
		<div class="w3-center">
			<p>bonjour</p>
		</div>
	</div>
</div>
<script>
	var mymap = L.map('mapid').setView([47.944366, 1.944237], 13);

var latlngs = [
    [47.932866, 1.954536],
    [47.928381, 1.866302],
    [47.905141, 1.894112]
];	
var circuit2 = L.polyline(latlngs, {color: 'red'});

var latlngs = [
    [47.944421, 1.946361],
    [47.906447, 1.903725],
    [47.947396, 1.874886]
];
var circuit3 = L.polyline(latlngs, {color: 'blue'});

	var circuit3;
function drawMap()
{
	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(mymap);
}
	drawMap();
var myIcon = L.icon({
    iconUrl: './iconB.png',
    iconSize: [48, 49],
    iconAnchor: [24, 49],
    popupAnchor: [-3, -76],
/*    shadowUrl: 'my-icon-shadow.png',*/
    shadowSize: [68, 95],
    shadowAnchor: [22, 94]
});
/*
	L.marker([51.5, -0.09]).addTo(mymap)
		.bindPopup("<b>Hello world!</b><br />I am a popup.").openPopup();

	L.circle([51.508, -0.11], 500, {
		color: 'red',
		fillColor: '#f03',
		fillOpacity: 0.5
	}).addTo(mymap).bindPopup("I am a circle.");

	L.polygon([
		[51.509, -0.08],
		[51.503, -0.06],
		[51.51, -0.047]
	]).addTo(mymap).bindPopup("I am a polygon.");

*/
// create a red polyline from an array of LatLng points

<!-- circuit -->



var latlngs = [
    [47.944421, 1.946361],
    [47.906447, 1.903725],
    [47.947396, 1.874886]
];
var polyline = L.polyline(latlngs, {color: 'red'}).addTo(mymap);
// zoom the map to the polyline
mymap.fitBounds(polyline.getBounds());

var p1 = L.marker([47.944421, 1.946361],{opacity:0.7 , icon: myIcon}).addTo(mymap);

// ****** it works fine !! ***********
var p1_popup='<p>Hello world!<br />'+'arrivÃ©e : dÃ©part'+'</p>';
 p1.bindPopup(p1_popup).openPopup();
/*
var popup = L.popup()
    .setLatLng(latlng)
    .setContent('<p>Hello world!<br />This is a nice popup.</p>')
    .openOn(mymap);
*/   
    
var popup = L.popup();

function onMapClick(e) {
	popup
		.setLatLng(e.latlng)
		.setContent("You clicked the map at " + e.latlng.toString())
		.openOn(mymap);
}

mymap.on('click', onMapClick);

function maFonction()
{
		/*
	var latlngs = [
		[47.932866, 1.954536],
		[47.928381, 1.866302],
		[47.905141, 1.894112]
	];
	var circuit2 = L.polyline(latlngs, {color: 'red'});
	*/
	circuit2.addTo(mymap);
	polyline.remove();
	circuit3.remove();
}
function maFonction3()
{
		circuit2.remove();
		circuit3.remove();

	latlngs = [
		[47.944421, 1.946361],
		[47.906447, 1.903725],
		[47.947396, 1.874886]
	];
	circuit3 = L.polyline(latlngs, {color: 'blue'}); 
	circuit3.addTo(mymap);
	p1.bindPopup(p1_popup).closePopup();
	p1.remove();

}
function maFonction4()
{
		/*
	var latlngs = [
		[47.944421, 1.946361],
		[47.906447, 1.903725],
		[47.947396, 1.874886]
	];
	var circuit3 = L.polyline(latlngs, {color: 'blue'}); */
	circuit3.remove();
	circuit2.remove();
	latlngs = [
		[47.903069, 1.884155],
		[47.954829, 1.914196],
		[47.956094, 1.969643]
	];
	circuit3 = L.polyline(latlngs, {color: 'black'}); 
	circuit3.addTo(mymap);
	p1.bindPopup(p1_popup).openPopup();
	/*p1({opacity:0.1});*/
	p1.addTo(mymap);

}
</script>



</body>
</html>
